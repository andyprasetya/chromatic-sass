(function(){var e,t,r,o,n,s,i,c;t=require("extend"),e=require("chroma-js"),o=require("node-sass"),i=require("node-sass-utils")(o),c=require("sassport"),r=function(e){return o.types.Color(e[0],e[1],e[2])},s=function(t){return e(t.getR(),t.getG(),t.getB()).rgb()},n=function(t){return e(t.getR(),t.getG(),t.getB()).hex()},module.exports={"chromatic($argslist...)":c.wrap(function(t){return e.lab(l,a,b).hex()}),"chromatic-lab($l, $a, $b)":c.wrap(function(t,r,o){return e.lab(t,r,o).hex()}),"chromatic-hcl($h, $c, $l)":c.wrap(function(t,r,o){return e.hcl(t,r,o).hex()}),"chromatic-mix($color0, $color1, $position: .5, $mode: 'lab')":c.wrap(function(t,r,o,l){return e.mix(n(t),n(r),o,l).hex()}),"chromatic-contrast($color0, $color1)":c.wrap(function(t,r){return e.contrast(n(t),n(r))}),"chromatic-gradient($argslist...)":function(r){var l,n,a,c,u,g,h,p,f,m,b,d,$,y,x,V,z,q,w,L;if(c={mode:"lab",bezier:!1,stops:7,type:"linear",direction:null},d={},a=[],V=[],l=i.castToJs(r),"map"===i.typeOf(l[0])){for(x=l[0],u=g=0,$=x.getLength();$>=0?$>g:g>$;u=$>=0?++g:--g)d[x.getKey(u).getValue()]=i.castToJs(x.getValue(u));V=l.slice(1,l.length)}else V=l;if(z=t(c,d),1===V.length){for(L=[],u=h=0,y=V[0].getLength();y>=0?y>h:h>y;u=y>=0?++h:--h)L[u]=V[0].getValue(u);V=L}for(u=m=0,p=V.length;p>m;u=++m)q=V[u],"list"===i.typeOf(q)?a.push(s(q.getValue(0))):a.push(s(q));for(a=z.bezier?e.bezier(a).scale().colors(z.stops):e.scale(a).mode(z.mode).colors(z.stops),w=z.type+"-gradient(",z.direction&&(w+=z.direction+", "),u=b=0,f=a.length;f>b;u=++b)n=a[u],w+=n,u<a.length-1&&(w+=", ");return w+=")",o.types.String(w)},"chromatic-scale($argslist...)":function(l){var s,a,c,u,g,h,p,f,m,b,d,$,y,x,V,z,q,w,L;for(g={mode:"lab",stops:10,bezier:!1,location:!1},y={},u=[],h=p=0,x=l.getLength();x>=0?x>p:p>x;h=x>=0?++p:--p)if(s=l.getValue(h),a=i.typeOf(s),"map"===a)for(h=f=0,V=s.getLength();V>=0?V>f:f>V;h=V>=0?++f:--f)y[s.getKey(h).getValue()]=s.getValue(h).getValue();else if("list"===a)for(z=i.castToJs(s),d=0,m=z.length;m>d;d++)c=z[d],"color"===i.typeOf(c)&&u.push(n(c));else"color"===a&&u.push(n(s));if(L=t(g,y),w=L.bezier?e.bezier(u).scale():e.scale(u).mode(L.mode),L.location)return w(L.location);for(u=w.colors(L.stops),q=o.types.Map(u.length),h=$=0,b=u.length;b>$;h=++$)c=u[h],q.setKey(h,o.types.Number(h)),q.setValue(h,r(e(c).rgb()));return q}}}).call(this);